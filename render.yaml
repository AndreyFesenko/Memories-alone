services:
  # API Gateway
  - type: web
    name: api-gateway
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/APIGateway/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false
      - key: RabbitMq__Host
        sync: false
      - key: RabbitMq__User
        sync: false
      - key: RabbitMq__Password
        sync: false
      - key: RabbitMq__Queue
        sync: false

  # Identity Service
  - type: web
    name: identity-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/IdentityService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false

  # Profile Service
  - type: web
    name: profile-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/ProfileService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false

  # Memory Archive Service
  - type: web
    name: memory-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/MemoryArchiveService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false
      - key: Supabase__S3__Endpoint
        sync: false
      - key: Supabase__S3__AccessKey
        sync: false
      - key: Supabase__S3__SecretKey
        sync: false

  # Notification Service
  - type: web
    name: notification-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/NotificationService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false
      - key: RabbitMq__Host
        sync: false
      - key: RabbitMq__User
        sync: false
      - key: RabbitMq__Password
        sync: false
      - key: RabbitMq__Queue
        sync: false
      - key: Redis__Host
        sync: false
      - key: Redis__Port
        sync: false
      - key: Redis__Password
        sync: false
      - key: Redis__Ssl
        sync: false

  # Access Control Service
  - type: web
    name: access-control-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/AccessControlService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false

  # Audit Logging Service
  - type: web
    name: audit-logging-service
    runtime: docker
    repo: https://github.com/AndreyFesenko/Memories-alone
    region: frankfurt
    branch: master
    rootDir: src
    plan: free
    dockerfilePath: src/AuditLoggingService/Dockerfile
    envVars:
      - key: ConnectionStrings__Default
        sync: false
      - key: RabbitMq__Host
        sync: false
      - key: RabbitMq__User
        sync: false
      - key: RabbitMq__Password
        sync: false
      - key: RabbitMq__Queue
        sync: false
